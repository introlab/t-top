# 6. Audio Base Assembly

## A. Audio Base Pre-Assembly

### Required Parts

| Part                                       | Quantity | Image                                                                                                              |
| ------------------------------------------ | -------- | ------------------------------------------------------------------------------------------------------------------ |
| `Base Audio 1`                             | 1        | ![Base Audio 1](images/3d%20printed%20parts/base%20audio%201.jpg)                                                  |
| `Base Audio 2`                             | 1        | ![Base Audio 2](images/3d%20printed%20parts/base%20audio%202.jpg)                                                  |
| `Assembled Speaker`                        | 4        | ![Assembled Speaker](images/electronics/assembled%20speaker.jpg)                                                   |
| `Assembled Fan`                            | 2        | ![Assembled Fan](images/electronics/assembled%20fan.jpg)                                                           |
| `Micro USB Connector`                      | 1        | ![Micro USB Connector](images/electronics/micro%20usb%20connector.jpg)                                             |
| `Assembled Power Switch`                   | 1        | ![Assembled Power Switch](images/electronics/assembled%20power%20switch.jpg)                                       |
| `Ethernet Connector`                       | 1        | ![Ethernet Connector](images/electronics/ethernet%20connector.jpg)                                                 |
| `Assembled Robot Power Connector - Female` | 1        | ![Assembled Robot Power Connector - Female](images/electronics/assembled%20robot%20power%20connector%20female.jpg) |
| `Assembled LED`                            | 6        | ![Assembled LED](images/electronics/assembled%20LEDs.jpg)                                                          |
| `M3x12mm Plastic Screw`                    | 4        | ![M3x12mm Plastic Screw](images/hardware/M3x12mm%20plastic.jpg)                                                    |
| `M3x8mm Plastic Screw`                     | 16       | ![M3x8mm Plastic Screw](images/hardware/M3x8mm%20plastic.jpg)                                                      |
| `Fan Screw`                                | 8        | ![Fan Screw](images/hardware/fan%20screw.jpg)                                                                      |

### Steps

1. Insert the `base audio 1` part into the `base audio 2` part, as shown in the following picture.

![Base Audio Parts](images/assemblies/06A%20base%20audio.jpg)

2. Put 4 `M3x12 plastic screws` to fix the parts together, as shown in the following pictures.

![Base Audio Screw 1](images/assemblies/06A%20base%20audio%20screw%201.jpg)

![Base Audio Screw 1](images/assemblies/06A%20base%20audio%20screw%202.jpg)

3. Install the `assembled speakers` with `M3x8 plastic screws`, as shown in the following pictures. The wire lengths are
   shown in the picture.

![Base Audio Speaker 1](images/assemblies/06A%20speaker%201.jpg)

![Base Audio Speaker 2](images/assemblies/06A%20speaker%202.jpg)

4. Install the `assembled fans` with `fan screws`, as shown in the following pictures. The wire lengths are shown in the
   picture.

![Base Audio Fan 1](images/assemblies/06A%20fan%201.jpg)
![Base Audio Fan 2](images/assemblies/06A%20fan%202.jpg)

5. Install the `Micro USB connector` as shown in the following picture.

![Base Audio Micro USB](images/assemblies/06A%20micro%20USB%20connector.jpg)

6. Install the `assembled power switch` as shown in the following picture.

![Base Audio Power Switch](images/assemblies/06A%20power%20switch.jpg)

7. Install the `Ethernet connector` as shown in the following picture.

![Base Audio Ethernet](images/assemblies/06A%20ethernet%20connector.jpg)

8. Install the `assembled robot power connector` with epoxy glue, as shown in the following picture.

![Base Audio Power Connector](images/assemblies/06A%20power%20connector.jpg)

9. Install the `assembled LEDs` with epoxy glue, as shown in the following picture.

![Base Audio LEDs](images/assemblies/06A%20LEDs.jpg)

## B. Audio Base Assembly

### Required Parts

| Part                                       | Quantity | Image                                                                           |
| ------------------------------------------ | -------- | ------------------------------------------------------------------------------- |
| `Audio Base Pre-Assembly`                  | 1        |                                                                                 |
| `Base Disk Pre-Assembly`                   | 1        |                                                                                 |
| `M3x5mm Plastic Screw`                     | 4        | ![M3x5mm Plastic Screw](images/hardware/M3x5mm%20plastic.jpg)                   |
| `M3x8mm Plastic Screw`                     | 8        | ![M3x8mm Plastic Screw](images/hardware/M3x8mm%20plastic.jpg)                   |
| `24-cm-Long 20 AWG Adafruit MAX9744 Wires` | 4        | ![M3x8mm Plastic Screw](images/assemblies/04G%20power%20wires.jpg)              |
| `Adafruit MAX9744`                         | 1        | ![Adafruit MAX9744](images/assemblies/04G%20heat%20shrink%20tube.jpg)           |
| `M2 Nuts`                                  | 4        | ![M3 Nuts](images/hardware/M2%20nut.jpg)                                        |
| `Assembled JST PHR-6 Cable`                | 1        |                                                                                 |
| `Female Power Connector with Ferrules`     | 1        | ![Power Connector - Female](images/electronics/Power%20Connector%20Female.jpg)  |
| `19V Buck-Boost PCB`                       | 1        | ![19V Buck-Boost PCB](images/assemblies/03D%20all.jpg)                          |
| `M3 Nuts`                                  | 3        | ![M3 Nuts](images/hardware/M2%20nut.jpg)                                        |
| `8-cm-Long 16 AWG Red Wire`                | 1        | ![`8-cm-long 16 AWG Red Wire](images/electronics/16%20AWG%20red%20wire.jpg)     |
| `8-cm-Long 16 AWG Black Wire`              | 1        | ![`8-cm-long 16 AWG Black Wire](images/electronics/16%20AWG%20black%20wire.jpg) |
| `Male Power Connector with Ferrules`       | 1        | ![Power Connector - Male](images/electronics/Power%20Connector%20Male.jpg)      |

### Steps

1. Install the `base disk pre-assembly` onto the `audio base pre-assembly` with `M3x5mm plastic screws` (orange circles)
   and `M3x8mm plastic screws` (red circles), as shown in the following picture.

![Base Disk](images/assemblies/06B%20base%20disk.jpg)

2. Connect the `LEDs` as shown in the following picture.

![LEsD](images/assemblies/06B%20leds.jpg)

3. Connect the `fans` as shown in the following picture.

![Fans](images/assemblies/06B%20fans.jpg)

4. Connect the `power switch` as shown in the following picture.

![Power Switch](images/assemblies/06B%20power%20switch.jpg)

5. Connect the `assembled robot power connector` as shown in the following picture.

![Power Connector](images/assemblies/06B%20power%20connector.jpg)

6. Connect 2 `24-cm long 20 AWG Adafruit MAX9744 wires` to the `12V Buck-Boost PCB`, as shown in the following picture.

![Adafruit MAX9744 Wires 1](images/assemblies/06B%20amplifier%20wires%201.jpg)

7. Connect those wires to the `Adafruit MAX9744`, as shown in the following picture.

![Adafruit MAX9744 Wires 2](images/assemblies/06B%20amplifier%20wires%202.jpg)

8. Connect the `farthest speakers` to the `Adafruit MAX9744`, as shown in the following picture.

![Adafruit MAX9744 Wires 3](images/assemblies/06B%20amplifier%20wires%203.jpg)

9. Install the second `Adafruit MAX9744` onto the top of the first one with `M2 nuts`, as shown in the following
   picture.

![Adafruit MAX9744](images/assemblies/06B%20amplifier.jpg)

10. Connect 2 `24-cm long 20 AWG Adafruit MAX9744 wires` to the `12V Buck-Boost PCB`, as shown in the following picture.

![Adafruit MAX9744 Wires 4](images/assemblies/06B%20amplifier%20wires%204.jpg)

11. Connect those wires to the second `Adafruit MAX9744`, as shown in the following picture.

![Adafruit MAX9744 Wires 5](images/assemblies/06B%20amplifier%20wires%205.jpg)

12. Connect the `nearest speakers` to the second `Adafruit MAX9744`, as shown in the following picture.

![Adafruit MAX9744 Wires 6](images/assemblies/06B%20amplifier%20wires%206.jpg)

13. Connect the `PSU control PCB` to the `battery charger` with the `assembled JST PHR-6 cable`, as shown in the
    following picture.

![JST PHR-6 Cable](images/assemblies/06B%20HST%20PHR-6%20cable.jpg)

14. Connect the `female power connector with ferrules` to a `12V Buck-Boost PCB` output, as shown in the following
    picture.

![12V](images/assemblies/06B%2012V.jpg)

15. Install the `19V Buck-Boost PCB`  with `M3 nuts` (orange circle), as shown in the following picture.

![19V Buck-Boost PCB](images/assemblies/06B%2019V%20buck-boost%20pcb.jpg)

16. Connect the `19V Buck-Boost PCB` input to a `PSU control PCB` output with `8-cm-long 16 AWG wires`, as shown in the
    following picture.

![19V Buck-Boost PCB Wires](images/assemblies/06B%2019V%20buck-boost%20pcb%20wires.jpg)

17. Connect the `male power connector with ferrules` to a `19V Buck-Boost PCB` output, as shown in the following
    picture.

![19V](images/assemblies/06B%2019V.jpg)

## C. Setup the Battery Charger

### Required Parts

| Part                     | Quantity | Image                                                          |
| ------------------------ | -------- | -------------------------------------------------------------- |
| `Micro USB Cable`        | 1        |                                                                |
| `19V Power Adapter`      | 1        |                                                                |

### Steps

1. Open the [project](../../firmwares/psu_control) in PlatformIO.
2. Change the value `FIRMWARE_MODE` in [config.h](../../firmwares/psu_controlinclude/config.h)
   to `FIRMWARE_MODE_SETUP_BATTERY_CHARGER`.
3. Make sure the battery is removed.
4. Connect the micro USB cable to the computer and the Teensy LC.
5. Turn off the robot.
6. Connect the `19V Power Adapter` to the base.
7. Turn on the robot.
8. Click on the upload button.

## D. Finish the Audio Base Assembly

### Required Parts

| Part                         | Quantity | Image                                                                                  |
| ---------------------------- | -------- | -------------------------------------------------------------------------------------- |
| `Battery - RRC2054-2`        | 1        | ![Battery - RRC2054-2](images/electronics/RRC2054-2.jpg)                               |
| `Ground Loop Noise Isolator` | 2        | ![Ground Loop Noise Isolator](images/electronics/ground%20loop%20noise%20isolator.jpg) |

### Steps

1. Install the `battery` and the `ground loop noise isolators` with tie wraps, as shown in the following picture.

![Battery](images/assemblies/06D%20battery.jpg)

2. Connect the `ground loop noise isolators` to the `Adafruit MAX9744`.

3. Connect the `Adafruit MAX9744 I2C cables` to the `PSU control PCB`, as shown in the following picture.

![Amplifier](images/assemblies/06D%20amplifier.jpg)

4. Connect the `micro USB connector` to the `PSU control PCB`, as shown in the following picture.

![Teensy](images/assemblies/06D%20teensy.jpg)
