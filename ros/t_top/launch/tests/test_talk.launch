<launch>
    <arg name="language" default="fr"/> <!-- Options: fr or en -->
    <arg name="speaking_rate" default="1.0"/> <!-- Range: [0.25, 4.0] -->

    <node pkg="talk" type="talk_node.py" name="talk_node" output="screen">
        <param name="language" value="$(arg language)"/>
        <param name="speaking_rate" value="$(arg speaking_rate)"/>
        <param name="cache_size" value="2"/>
        <param name="mouth_signal_gain" value="0.03"/>
        <param name="sampling_frequency" value="16000"/>
        <param name="frame_sample_count" value="1024"/>

        <remap from="audio_out" to="audio_float_16000"/>
        <remap from="audio_out/filter_state" to="talk/filter_state"/>
    </node>

    <node pkg="audio_utils" type="playback_node" name="playback_node" respawn="true">
        <param name="backend" value="alsa"/>
        <param name="device" value="default"/>
        <param name="format" value="float"/>
        <param name="channel_count" value="1"/>
        <param name="sampling_frequency" value="16000"/>
        <param name="frame_sample_count" value="1024"/>
        <param name="latency_us" value="4000"/>

        <remap from="audio_in" to="audio_float_16000"/>
    </node>

</launch>
